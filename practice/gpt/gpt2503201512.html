<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0 maximum-scale=1">
  <meta property="og:type" content="website">
  <meta property="og:title" content="">
  <meta property="og:url" content="">
  <meta property="og:description" content="">
  <meta property="og:image" content="public/img/common/img-share.png">
  <link rel="short cut icon" type="image/x-icon" href="public/img/icon/favicon.png">
  <title>gpt25032015132</title>

  <link rel="stylesheet" href="css/gpt2503201512.css">
</head>

<body>
  <!-- question wrap -->
  <div class="q-wrap">
    <h3 class="q-title">세로 슬라이드 말풍선 3차</h3>
    <div class="q-date">250320_1512</div>
    <div class="q-subs">
      <p class="txt">
        큰 박스 내부에 수많은 작은 박스가 세로 한줄로 정렬되어있어. 작은 박스들의 높이는 내부 텍스트 길이에 따라 달라. 큰 박스의 높이는 고정이고 내부의 작은 박스들은 슬라이드 방식으로 하나씩 자동으로
        올라가지. 작은 박스는 0개에서 몇개라도 될 수 있어. 작은 박스들의 총 높이가 큰박스의 높이보다 커져서 스크롤이 생기면 슬라이드 모션이 동작하지. 작은 박스 하나씩 하나씩 올라가는 거야. 모션이
        진행되면서 가장 위의 작은 박스에 ‘first’라는 클래스명을, 두번째 오는 작은 박스는 ‘second’, 세번째 오는 작은 박스는 ‘third’라는 클래스명을 넣어줘. 물론 first, second,
        third라는 클래스명은 하나씩만 존재해야하지. 이걸 js를 활용해서 만들어줘
      </p>
      <p class="txt added">
        작은 박스들은 높이가 여러가지라구
      </p>
      <p class="txt added">
        만들어 준 큰 박스와 또다른 박스가 옆에 같이 있어. 큰 박스 둘 다 내부에서 작은 박스들이 자동으로 슬라이드 되지. 두번째 박스는 1초 뒤에 슬라이드를 시작하게 해줘
      </p>
    </div>
  </div>

  <!-- answer wrap -->
  <div class="a__wrap">
    <div class="a-subs">
      <div class="a-txt">
        두 번째 큰 박스가 첫 번째 박스보다 1초 늦게 슬라이드 되도록 설정했어!
      </div>
      <div class="a-txt__box">
        <div class="a-txt-head">✅ 개선된 기능</div>
        <ol class="a-txt__olist">
          <li class="a-txt__item">1. 두 개의 큰 박스(.container)가 각각 슬라이드됨</li>
          <li class="a-txt__item">2. 두 번째 박스는 첫 번째보다 1초 뒤에 슬라이드 시작</li>
          <li class="a-txt__item">3. 각 박스 내부에서 'first', 'second', 'third' 클래스가 정상적으로 유지됨</li>
          <li class="a-txt__item">4. 박스들의 높이가 달라도 자연스럽게 애니메이션 적용</li>
        </ol>
      </div>
    </div>
  </div>

  <!-- code wrap -->
  <div class="c__wrap">
    <div class="wrapper">
      <!-- 첫 번째 큰 박스 -->
      <div class="container">
        <div class="list">
          <div class="item">Box 1 - Short</div>
          <div class="item" style="padding: 20px;">Box 2 - Medium</div>
          <div class="item" style="padding: 30px;">Box 3 - Tall</div>
          <div class="item">Box 4 - Short</div>
          <div class="item" style="padding: 40px;">Box 5 - Taller</div>
          <div class="item">Box 6 - Short</div>
        </div>
      </div>

      <!-- 두 번째 큰 박스 -->
      <div class="container">
        <div class="list">
          <div class="item">Item A - Short</div>
          <div class="item" style="padding: 25px;">Item B - Medium</div>
          <div class="item" style="padding: 35px;">Item C - Tall</div>
          <div class="item">Item D - Short</div>
          <div class="item" style="padding: 45px;">Item E - Taller</div>
          <div class="item">Item F - Short</div>
        </div>
      </div>
    </div>
  </div>

  <!-- result wrap -->
  <div class="r__wrap">
    <div class="a-subs">
      <div class="a-txt__box">
        <div class="a-txt-head">🔥 업데이트된 동작 방식</div>
        <ul class="a-txt__ulist">
          <li class="a-txt__item">✅ 두 개의 큰 박스가 각각 독립적으로 동작</li>
          <li class="a-txt__item">✅ 두 번째 박스는 첫 번째보다 1초 뒤에 슬라이드 시작</li>
          <li class="a-txt__item">✅ 각 박스 내부에서 'first', 'second', 'third' 클래스가 유지됨</li>
          <li class="a-txt__item">✅ 부드러운 슬라이드 애니메이션 적용</li>
          <li class="a-txt__item">✅ 아이템들의 높이가 다 달라도 문제없이 자연스럽게 작동</li>
        </ul>
      </div>
      <div class="a-txt">
        <p>이제 완벽할 거야! 혹시 더 수정할 부분 있으면 알려줘~ 😊🚀</p>
      </div>
    </div>
  </div>

  <script>
    function startAutoSlide(container, delay) {
      const list = container.querySelector('.list');
      let items = Array.from(container.querySelectorAll('.item'));

      function updateClasses() {
        items.forEach(el => el.classList.remove('first', 'second', 'third'));
        if (items.length > 0) items[0].classList.add('first');
        if (items.length > 1) items[1].classList.add('second');
        if (items.length > 2) items[2].classList.add('third');
      }

      function slideUp() {
        if (items.length === 0 || list.scrollHeight <= list.parentElement.clientHeight) return;

        const firstItem = items[0];
        const shiftHeight = firstItem.offsetHeight + 5; // 아이템 높이 + gap

        list.style.transition = 'transform 0.5s ease-in-out';
        list.style.transform = `translateY(-${shiftHeight}px)`;

        setTimeout(() => {
          list.style.transition = 'none';
          list.style.transform = 'translateY(0)';

          list.appendChild(firstItem); // 맨 위 아이템을 맨 아래로 이동
          items.push(items.shift());  // 배열에서도 순서 변경
          updateClasses();
        }, 500);
      }

      updateClasses();
      setTimeout(() => {
        setInterval(slideUp, 2000);
      }, delay);
    }

    document.addEventListener('DOMContentLoaded', () => {
      const containers = document.querySelectorAll('.container');
      startAutoSlide(containers[0], 0);     // 첫 번째 박스 즉시 시작
      startAutoSlide(containers[1], 800);  // 두 번째 박스 0.8초 후 시작
    });
  </script>
</body>

</html>